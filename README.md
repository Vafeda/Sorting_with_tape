# Сортировка N количество чисел при доступных M байт (M &lt; N)
## Задание
Устройство хранения данных типа лента (Tape) предназначено для последовательной записи и чтения 
данных. Считывающая/записывающая магнитная головка неподвижна во время чтения и записи, а 
лента имеет возможность двигаться в обоих направлениях. Запись и чтение информации возможны в 
ячейку ленты, на которой в данный момент находится магнитная головка. Перемещения ленты – 
затратная по времени операция – лента не предназначена для произвольного доступа.  
Имеется входная лента длины N (где N – велико), содержащая элементы типа integer. Имеется 
выходная лента такой же длины. Необходимо записать в выходную ленту отсортированные по 
возрастанию элементы с входной ленты. Есть ограничение по использованию оперативной памяти – не 
более M байт (M может быть < N, т.е. загрузить все данные с ленты в оперативную память не 
получится). Для реализации алгоритма можно использовать разумное количество временных лент, т.е. 
лент, на которых можно хранить какую-то временную информацию, необходимую в процессе работы 
алгоритма.

Необходимо создать проект С++, компилируемый в консольное приложение, которое реализует 
алгоритм сортировки данных с входной ленты на выходную. Необходимо сделать следующее:
- Определить интерфейс для работы с устройством типа лента.
- Написать класс, реализующий этот интерфейс и эмулирующий работу с лентой посредством 
обычного файла. Должно быть возможно сконфигурировать (без перекомпиляции – например, 
через внешний конфигурационный файл, который будет прочитан на старте приложения) 
задержки по записи/чтению элемента с ленты, перемотки ленты, и сдвига ленты на одну 
позицию.
- Файлы временных лент можно сохранять в директорию tmp.
- Написать класс, реализующий алгоритм сортировки данных с входной ленты на выходную.
- Консольное приложение должно принимать на вход имя входного и выходного файлов и 
производить сортировку.
- Желательно написать юнит-тесты.

## Интерфейс ленты
Для создания интерфейса был создан класс `Operation`, который в последствии был унаследован классом `Tape`. В данном классе прописаны следующие виртуальные методы:

- next (Сдвиг ленты вправо на одну позицию)
- prev (Сдвиг ленты влево на одну позицию)
- read (Чтение элемента с ленты)
- write (Запись элемента на ленту)
- rewindingTheTape (Перемотка ленты)

Также стоит уделить внимания тому, что в классе `Operation` прописана константная переменная `size`. Данная переменная устанавливает количество байт выделяемое на одну ячейку. В данном случае для визуального понимания работы алгоритма было выделено 12 байт (1 байт на `" "`, 11 байт на `unsigned int`).

## Класс Tape
Данный класс реализует интерфейс, про который говорилось ранее. В классе `Tape` прописана логика всех виртуальных методов, унаследованных от класса `Operation`. В каждый метод был добавлен частный метод класса `Tape` под название `setDelay`. Данный метод осуществляет задержку для каждого унаследованного класса и позволяет на определённое время приостановить работу метода. По умолчанию задержка для каждого метода отсутствует, но если в той же директории, где находиться приложение, присутствует файл `config.txt`, то появляться возможность задать задержку для каждого метода. Также был реализован частный метод `lenTape`. Данный метод используется только методом `next` для того чтоб не уйти за границы файла.

> [!NOTE]
> config.txt содержит 4 числа:
> 1. Задержка по записи
> 2. Задержка по чтению
> 3. Задержка перемотки ленты
> 4. Задержка сдвига ленты

## Класс Sorting
Данный класс реализует алгоритм сортировки данных с входной ленты и результат данной сортировки записывает в выходной файл. После получения входного файла метод `sort`, в котором происходят вся сортировка, разделяет входной файл на N/2. Это действие помогает уменьшить количество данных которые придется хранить в оперативной памяти. 

В данном классе есть частный метод описывающих алгоритм сортировки слиянием `mergeSortMas`. Данная сортировка имеет временную сложность равной O(N * log N). 

## Вызов приложения в консоле
Пример вызова приложения:
```shell
Sort_Tape.exe input.txt output.txt
```
> [!IMPORTANT]
> При запуске приложения Sort_tape.exe не забудьте передать входной файл и выходной файл. Иначе программа будет кидать ошибки либо из-за недостатка аргументов либо из-за избытка.


## Немного про юнит-тесты
Все юнит-тесты можно найти в папке `tests\data`. Всего было сделано 7 юнит-тестов:
  1. Входной файл не содержит символов (input_1.txt)
  2. Входной файл содержит одинаковые элементы (input_2.txt)
  3. Входной файл содержит один элемент (input_3.txt)
  4. Входной файл содержит только положительные элементы (input_4.txt)
  5. Входной файл содержит отсортированные элементы в порядке убывания (input_5.txt)
  6. Входной файл содержит отсортированные элементы в порядке возрастания (input_6.txt)
  7. Входной файл содержит как положительные числа, так и отрицательные (input_7.txt)

Пример вызова приложения:
```shel2
Unit_test.exe
```
> [!IMPORTANT]
> При вызове приложения убедитесь что Sort_tape.exe и Unit_test.exe находятсья в корневой папке.
> Unit_test.exe должен иметь доступ к папке tests иначе тесты не будут попросту проходить.
